# GEE-Harmonic-Trend-Extractor

## Описание

Этот репозиторий содержит скрипты для извлечения гармонических трендов из спутниковых изображений Sentinel-2-L2A с использованием [Google Earth Engine](https://earthengine.google.com/). Скрипты позволяют выполнять анализ временных рядов спектрального индекса NDVI и вычислять коэффициенты гармонических трендов для каждого пикселя изображения.


## Принцип работы

#### Подготовка конфигурации

Перед запуском скрипта необходимо сконфигурировать параметры в файле `config.py`, включая имя растра, путь для загрузки изображения с Google Drive и другие настройки.

#### Анализ гармонических трендов

1. **`harmonic_trend_analysis.py`**: В этом модуле выполняется анализ спутниковых изображений Sentinel-2-L2A с использованием Google Earth Engine. Спектральные изображения фильтруются для выделения, безоблачного спектрального индекса NDVI. Затем для каждого пикселя изображения вычисляются гармонические тренды. Последним этапом полученное многоканальное растровое изображение экспортируется в Google Drive.

#### Экспорт из Google Drive

2. **`google_drive_operations.py` и `google_drive_credentials.py`**: Эти модули отвечают за взаимодействие с Google Drive. После анализа гармонических трендов полученные изображения экспортируются из Google Drive с помощью Google Drive API.

#### Загрузка на локальный компьютер

3. **`main.py`**: Этот файл содержит главную функцию `process_harmonic_trend`, которая управляет всем процессом. После экспорта изображений в Google Drive происходит автоматизированная загрузка изображения с Google Drive на локальный компьютер с использованием Google Drive API и учетных данных Google Drive.

## Запуск

Для запуска скрипта выполните следующие шаги:

1. Убедитесь, что у вас установлены все необходимые зависимости из файла `requirements.txt`.
2. Запустите скрипт `main.py`, который автоматически выполнит процесс извлечения гармонических трендов и их экспорта.

## Зависимости

Для работы скриптов требуется установить следующие зависимости:

- `google-api-python-client`: Библиотека для работы с Google API.
- `google-auth-oauthlib`: Библиотека для аутентификации через OAuth2.0 для Google API.
- `earthengine-api`: Библиотека для взаимодействия с Google Earth Engine API.
- `numpy`: Библиотека для работы с массивами и математическими операциями в Python. 

## Важно!

- Убедитесь, что у вас есть доступ к Google Earth Engine и Google Drive API.
- Перед запуском проекта убедитесь, что все необходимые зависимости установлены.
- Для корректной работы модулей `google_drive_operations.py` и `google_drive_credentials.py` убедитесь, что у вас есть файлы `credentials.json` и `token.json`, содержащие учетные данные для доступа к Google Drive.
- В процессе экспорта и загрузки изображений могут возникать задержки, особенно при обработке больших объемов данных. Пожалуйста, будьте терпеливы.

Дополнительно, в кратких руководствах по Google Workspace объясняется, как настроить и запустить приложение, вызывающее API Google Workspace.

В [этом руководстве](https://developers.google.com/drive/api/quickstart/python?hl=ru) приведены инструкции по созданию приложения командной строки Python, которое отправляет запросы к API Google Диска.
